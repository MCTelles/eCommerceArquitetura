_format_version: "3.0"
_transform: true

services:
  - name: users-service
    url: http://users-service:3000
    routes:
      - name: users-route
        paths:
          - /users
        strip_path: false

  - name: products-service
    url: http://products-service:3000
    routes:
      - name: products-route
        paths:
          - /products
        strip_path: false

  - name: orders-service
    url: http://order-service:3000
    routes:
      - name: orders-route
        paths:
          - /orders
        strip_path: false

  - name: payments-service
    url: http://payment-service:3000
    routes:
      - name: payments-route
        paths:
          - /payments
        strip_path: false

plugins:
  - name: rate-limiting
    config:
      minute: 10

  - name: request-size-limiting
    config:
      allowed_payload_size: 200
      require_content_length: false
